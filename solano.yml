# Use docker-enabled workers (currently private beta - contact support@solanolabs.com)
system:
  docker: true
python:
  python_version: 2.7
hooks:
  pre_setup: |
    sudo add-apt-repository ppa:duggan/bats --yes
    sudo apt-get update -qq
    sudo apt-get install -qq bats
    sudo docker pull jenkins
    sudo docker build -t tomdesinto/jenkins-dsl-ready . 
tests:
  - python -m doctest build/resolve_jenkins_plugins_dependencies.py
  - sudo bats tests
